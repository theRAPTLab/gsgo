# CSS Styles and Theming in GEM_SRV

## Overview

Material UI (MUI) is an implementation of Google's Material Design (MD) visual standard. GEM_SRV is configured to use the default MUI theme, which can be further modified in `src/modules/styling/theme.js`. 

Note that Material UI is derived from Material Design, and are not the same thing. Also, MUI themes are not the same as MUI styling. 

* Theme parameters (e.g. color palettes, spacing, element sizes) are the standard configuration values listed the [Material Design specifications](https://material.io/design/).
* Styles are CSS rules, defined using [JSS](https://v4.material-ui.com/customization/css-in-js/). Styles can be applied either as overrides to specific MUI components, or as new definitions with your chosen names. 

An [MUI Theme](https://material-ui.com/customization/theming/) is a collection of **MD configuration variables** like color, spacing, and sizes. These are described in the [Material Design specification](https://material.io/design/) and is created by the utility function `createTheme()`. In GEM_SRV, this is already defined for you in `src/modules/styling/theme.js`. 

In addition to the MD parameters, the theme object also has some MUI-specific properties:

* `overrides:` can contain global class overrides for the built-in MUI components. These class names have a prefix of `.Mui` and are defined in the MUI Component API reference. For example, the [Button](https://material-ui.com/api/button/) element lists CSS classes such as `.MuiButton-root` and `.MuiButton-disableElevation`. 
* `mixins:` contains the useful `Toolbar` property which holds the height of the Toolbar component. 

## Changing Default Appearances

The canonical reference is in the [Material UI Component Customization](https://material-ui.com/customization/components/) docs. 

In GEM_SRV we've implemented the following conventions for global MUI theme changes and making global MUI style changes.

* To change MD configuration variables, edit our `theme.js` file.
* To change MUI global classes, add them to the `overrides` key of `theme.js`, using information found in the MUI Component API docs.

To add your own variables and classes:

* To add your own global configuration variables that depend on MD configuration variables, add them in `src/modules/styling/theme-derived.js`
* To add a global JSS classname, add them to the `@global` key of `theme-derived.jss`
* To add any other global properties, add them in `theme-derived.js`.

For your own components, you define **local styles** using the MUI `makeStyles()` React hook. Here is an excerpt:
``` jsx
import { makeStyles, useTheme } from '@material-ui/core/styles';

const useStyles = makeStyles(theme=>({
  myRule: {
    padding: `${theme.spacing(1)}px`
  }
}});

function MyComponent(props) {
  const classes = useStyles();
  return (
    <div className={classes.myRule}>this is padded by 8px</div>
  );
}
// See exComponent.jsx for a complete listing.
```
Again, this is documented in the [Material UI Component Customization](https://material-ui.com/customization/components/) docs, but here are important insights:

* the `classes` object returned by `useStyles()` is a dictionary that maps the rule name ('myRule') to the unique CSS classname generated by JSS. That means you can use the same rule names in each component and not override another.
* The `makeStyles()` hook automatically receives the MUI theme object, so you can generate CSS that is dependend on those values.
* Because the classname is unique, there are no rule collisions if you use the same name (e.g. root for the top-most element) in multiple Components you are writing.
* When you use the `className={classes.myRule}` syntax, your CSS is added ON TOP of the default MUI theme CSS.

All of this theme magic is provided for you in our custom `src/pages/_app.jsx` file. Most of the time you will probably just be using this feature to tweak appearance. 
